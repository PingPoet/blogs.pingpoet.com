

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	
<!-- Mirrored from blogs.pingpoet.com/jeemster/archive/2004/04/03.aspx by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 06 May 2018 21:49:38 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	jeemsters - Saturday, April 03, 2004 Entries
</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" /><meta name="author" content="jeemster" /><meta name="Generator" content="Subtext Version 1.9.4.78" /><link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="../../../Rss.aspx" /><link type="text/css" rel="stylesheet" href="../../../../skins/_System/csharp.css"></link>
<link type="text/css" rel="stylesheet" href="../../../../skins/_System/commonstyle.css"></link>
<link type="text/css" rel="stylesheet" href="../../../../skins/_System/commonlayout.css"></link>
<link type="text/css" rel="stylesheet" href="../../../../Skins/RedBook/niceforms-default.css"></link>
<link media="print" type="text/css" rel="stylesheet" href="../../../../Skins/RedBook/print.css"></link>
<link id="MainStyle" type="text/css" rel="stylesheet" href="../../../../skins/RedBook/style.css" /><link id="SecondaryCss" type="text/css" rel="stylesheet" href="../../../../skins/RedBook/Blue.css" /><link id="Rsd" rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../rsd.xml.ashx" /><link id="AtomLink" title="RSS" type="application/rss+xml" rel="alternate" href="../../../Rss.aspx" /><script src="../../../../Scripts/common.js" type="text/javascript"></script><script src="../../../../Scripts/tableEffects.js" type="text/javascript"></script><script src="../../../../Scripts/BlogInfo.js" type="text/javascript"></script>
		<script type="text/javascript">
			var subtextAllowedHtmlTags = ['a', 'b', 'strong', 'blockquote', 'i', 'em', 'u', 'strike', 'super', 'sub', 'code'];
			var subtextBlogInfo = new blogInfo('../../../../index.html', '/jeemster/" />');
		</script>
		<script type="text/javascript" src="../../../../Admin/Resources/Scripts/niceForms.js"></script>
</head>
	<body>
		<form name="Form1" method="post" action="http://blogs.pingpoet.com/jeemster/archive/2004/04/03.aspx" id="Form1">
<div>
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['Form1'];
if (!theForm) {
    theForm = document.Form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="../../../../WebResourceca6f.js?d=vT1yz21OBJxBgCt3OM9vt4Y4jX88BPYiwkNtAfZuXqXphi6ccxTRjVFJnDscDk1pKotIsoE5gziAablpwXXNVTZ1pNg1&amp;t=635294807132453548" type="text/javascript"></script>

<div>

	<input type="hidden" name="__SCROLLPOSITIONX" id="__SCROLLPOSITIONX" value="0" />
	<input type="hidden" name="__SCROLLPOSITIONY" id="__SCROLLPOSITIONY" value="0" />
	<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
	<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
</div>
			
<div id="rondo"><p>&nbsp;</p></div>
		<div id="all">
			
<div id="hd">
	<div id="header">
		<h1><a id="header_HeaderTitle" title="The Title Of This Blog." href="../../../Default.html">jeemsters</a></h1>
		<div>brain chaos</div>
	</div>
</div>

			
<div id="blogstats">
	<div>
	<span>Blog Stats</span>
	<ul>
		<li>Posts - 31</li>
		<li>Articles - 0</li>
		<li>Comments - 1</li>
		<li>Trackbacks - 680</li>
	</ul>
	</div>
</div>
<div id="blogstatsback">
<p>&nbsp;</p>
</div>
			<div id="navigation">
					
<ul>
	<li><a id="MyLinks_HomeLink" title="Link to the home page." href="../../../Default.html">Home</a></li>
	<li><a id="MyLinks_Archives" title="View Archives." href="../../../archives.html">Archives</a></li>
	<li><a id="MyLinks_ContactLink" accesskey="9" title="Contact form." href="../../../contact.html">Contact</a></li>
	<li><a id="MyLinks_Admin" title="Login Form." href="../../../login.html">Login</a></li>
</ul>

<!-- Not Visible -->



			</div>
			<div id="container">
				<div id="content">
						
					
<h4 class="daytitle">
	<a id="ArchiveDay_ascx_SingleDay_ImageLink" title="Click to see entries for this day." href="03.html" style="display:inline-block;border-width:0px;height:15px;width:250px;">Saturday, April 03, 2004</a>		  
</h4>


		<div class="journal_eintrag">
	
			<h2>
				 <a id="ArchiveDay_ascx_SingleDay_DayList_ctl01_TitleUrl" class="posttitle" title="Click To View Entry." href="03/506.html">Backup Your SMTP Server</a>
			</h2>
			<P>My email server went belly-up this week and so I have again been thinking about a backup SMTP server so when my SMTP server is down, I do not loose mail. So here is what I understand needs to be done. Any suggestions or comments are appreciated.</P><P>Before we can understand how you could have a backup SMTP server, it is necessary that we understand some the "normal" operations of a outgoing mail, (SMTP) server.</P><P>SMTP and Mail relaying<BR>When <A href="mailto:sam@sender.com">sam@sender.com</A> sends email is sent to <A href="mailto:joe@ourdomain.com">joe@ourdomain.com</A>, his email client sends the message to his designated SMTP server. Due to spammers that often make use of <A href="http://mail-abuse.org/tsi/ar-what.html">http://mail-abuse.org/tsi/ar-what.html</A> (mail relaying), SMTP servers should employ some method to determine that the user should be using this SMTP server.</P><P>The SMTP server It is the SMTP servers "job" to deliver the message to the SMTP server for the ourdoamin.com. The sender.com SMTP server determinse the receiver.com's SMTP server by querying DNS and asking for record of type MX. Sender.com's SMTP server then attempts to send the message to the MX record with the highest "priority" record which is the record with the lowest number.</P><P>If receiver.com's SMTP server does not answer, he trys the next higher priority record which is the next bigger number record of the type MX.</P><P>So, if we wanted to setup a backup SMTP server for ourdomain.com, we would need the administrator of backupdomain.com to setup his server to accept incoming messages for ourdoamin.com as an ETRN mail domain. The details of the ETRN fuction are defined in <A href="http://www.rfc-editor.org/rfc/rfc1985.txt">RFC 1985</A>. </P><P>We should then verify that backupdomain.com will indeed accept email for ourdoamin.com. This can be performed by telneting to the backupdomain.com's SMTP server on port 25 and entering the following:<BR>OK, connected to smtp.backupdomain.com...<BR>&lt; 220 backupdomain.com SMTP ready<BR>&gt; HELO someserver.dnsvr.com<BR>&lt; 250 backupdomain.com Pleased to meet you<BR>&gt; MAIL FROM:&lt;<A href="mailto:test@ourdomain.com">test@ourdomain.com</A>&gt;<BR>&lt; 250 Sender OK<BR>&gt; RCPT TO:&lt;<A href="mailto:someone@somedomain.com">someone@somedomain.com</A>&gt;<BR>&lt; 250 Recipient OK<BR>&gt; DATA<BR>&lt; 354 Send message, end with &lt;CRLF&gt;.&lt;CRLF&gt;<BR>&gt; From: <A href="mailto:test@ourdomain.com">test@ourdomain.com</A><BR>&gt; To: <A href="mailto:someone@somedomain.com">someone@somedomain.com</A><BR>&gt; Subject: SMTP Test (smtp.backupdomain.com)<BR>&gt; <BR>&gt; If you received this, then the mail server (smtp.backupdomain.com) is probably working.<BR>&gt; .<BR>&lt; 250 OK</P><P>If you receive any message that starts with 5##, like<BR>&lt; 571 Remote sending only allowed with authentication!<BR>Then the backupdomain.com will NOT accept mail for your domain.</P><P>NOTE: You can also go to <A href="http://www.zoneedit.com/smtp.html">http://www.zoneedit.com/smtp.html</A> and do this test.</P><P>Once we have the above ETRN host defined and working, we then must add backupdomain.com to ourdomain.com's DNS as a MX record with a bigger number than ourdomain.com's MX record.</P><P>That should work.</P>
			
			<p class="postfooter">
				posted @ <a href="03/506.html" title = "Permanent link to this post">Saturday, April 03, 2004 6:38 AM</a> | <a href="03/506.html#feedback" title = "comments, pingbacks, trackbacks">Feedback (7)</a>
			</p>
	
		</div>
	

				
				</div>
				<div id="rightbar">
					
					
<div id="recentComments">
<h3>Recent Comments</h3>

              <ul>
       
              <li><a id="RecentComments_feedList_ctl01_Link" title="Reader Comment." href="../../2006/12/07/Address-Books-How-Many-do-You-have.html#29442">Nice post, keep it up , blog is also very good</a><br />by Marky</li>
       
              </ul>
       
</div>
					
		<div class="leftbox">
			<h2>Archives</h2>
			
					<div>
						<ul class="sidebarlist">
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl01_Link" title="" href="../../2007/02.html">February, 2007 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl02_Link" title="" href="../../2006/12.html">December, 2006 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl03_Link" title="" href="../../2006/07.html">July, 2006 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl04_Link" title="" href="../../2006/01.html">January, 2006 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl05_Link" title="" href="../../2005/11.html">November, 2005 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl06_Link" title="" href="../../2005/08.html">August, 2005 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl07_Link" title="" href="../../2005/03.html">March, 2005 (9)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl08_Link" title="" href="../../2005/02.html">February, 2005 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl09_Link" title="" href="../06.html">June, 2004 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl10_Link" title="" href="../04.html">April, 2004 (1)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl11_Link" title="" href="../03.html">March, 2004 (9)</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl00_LinkList_ctl12_Link" title="" href="../02.html">February, 2004 (4)</a></li>
				
						</ul>
					</div>
				
		</div>
	
		<div class="leftbox">
			<h2>Post Categories</h2>
			
					<div>
						<ul class="sidebarlist">
				
							<li><a id="SingleColumn_Categories_CatList_ctl01_LinkList_ctl01_Link" title="" href="../../../category/20.html">Chaos</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl01_LinkList_ctl02_Link" title="" href="../../../category/19.html">Geek Stuff</a></li>
				
							<li><a id="SingleColumn_Categories_CatList_ctl01_LinkList_ctl03_Link" title="" href="../../../category/22.html">Things from the Job</a></li>
				
						</ul>
					</div>
				
		</div>
	

<div class="leftbox">
	<h2>Syndication:</h2>
	<ul>
	<li><a id="SingleColumn_links_Syndication" title="Subscribe to this feed." href="../../../Rss.aspx">RSS</a></li>
	<li><a id="SingleColumn_links_AtomLink" title="Subscribe to this feed." href="../../../Atom.aspx">ATOM</a></li>
	</ul>
</div>

<!-- Not Visible -->








					<div class="leftbox">
						<h2>Hosted by</h2>
						<p class="subtextlogo">
							<a href="http://www.subtextproject.com/" title="Subtext Project Homepage"><img src="../../../../Images/PoweredBySubtext85x33-2.png" alt="Subtext Blog" /></a>
						</p>
					</div>
				</div>
				<div class="clear"><span></span>&nbsp;</div>	
			</div>
			<div id="footer"><p>&nbsp;</p></div>
		</div>
		<div id="rondobottom"><p>&nbsp;</p></div>
		
<div id="poweredby">
	Copyright &copy; jeemster
</div>

		

<script type="text/javascript">
//<![CDATA[

theForm.oldSubmit = theForm.submit;
theForm.submit = WebForm_SaveScrollPositionSubmit;

theForm.oldOnSubmit = theForm.onsubmit;
theForm.onsubmit = WebForm_SaveScrollPositionOnSubmit;
//]]>
</script>
</form>
	</body>

<!-- Mirrored from blogs.pingpoet.com/jeemster/archive/2004/04/03.aspx by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 06 May 2018 21:49:38 GMT -->
</html>
