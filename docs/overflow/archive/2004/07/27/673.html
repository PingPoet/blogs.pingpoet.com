

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	
<!-- Mirrored from blogs.pingpoet.com/overflow/archive/2004/07/27/673.aspx by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 06 May 2018 21:57:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head><title>
	mbUnit Errors Caused by Performance Counters 
</title><meta http-equiv="content-type" content="text/html; charset=UTF-8" /><meta name="author" content="Scott Willeke" /><meta name="Generator" content="Subtext Version 1.9.4.78" /><link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="../../../../Rss.aspx" /><link type="text/css" rel="stylesheet" href="../../../../../skins/_System/csharp.css"></link>
<link type="text/css" rel="stylesheet" href="../../../../../skins/_System/commonstyle.css"></link>
<link type="text/css" rel="stylesheet" href="../../../../../skins/_System/commonlayout.css"></link>
<link type="text/css" rel="stylesheet" title="fixed" href="../../../../../Skins/Piyo/piyo-fixed.css"></link>
<link type="text/css" rel="stylesheet" title="elastic" href="../../../../../Skins/Piyo/piyo-elastic.css"></link>
<link media="print" type="text/css" rel="stylesheet" href="../../../../../Skins/Piyo/print.css"></link>
<link id="MainStyle" type="text/css" rel="stylesheet" href="../../../../../skins/Piyo/style.css" /><link id="CustomCss" type="text/css" rel="stylesheet" href="../../../../customcss.css" /><link id="Rsd" rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../../rsd.xml.ashx" /><link id="AtomLink" title="RSS" type="application/rss+xml" rel="alternate" href="../../../../Rss.aspx" /><script src="../../../../../Scripts/common.js" type="text/javascript"></script><script src="../../../../../Scripts/tableEffects.js" type="text/javascript"></script><script src="../../../../../Scripts/BlogInfo.js" type="text/javascript"></script>
		<script type="text/javascript">
			var subtextAllowedHtmlTags = ['a', 'b', 'strong', 'blockquote', 'i', 'em', 'u', 'strike', 'super', 'sub', 'code'];
			var subtextBlogInfo = new blogInfo('../../../../../index.html', '/overflow/" />');
		</script>
		<script type="text/javascript" src="../../../../../Skins/Piyo/Scripts/piyo.js"></script>
<script type="text/javascript" src="../../../../../Skins/Piyo/Scripts/lightbox.js"></script>
<script type="text/javascript">
 var blogTool = "Subtext"
 var blogURL = "../../../../index.html";
 var blogTitle   = "overflow";
 var postTitle = "mbUnit Errors Caused by Performance Counters ";
 var postURL = "673.html";
 var commentAuthorFieldName = "";
 var commentTextFieldName = "";
 var commentButtonName  = "";
 var commentFormID = "Form1";
 var commentAuthorLoggedIn = false;
 var cocomment_force  = false;
</script>
<script type="text/javascript" src="http://www.cocomment.com/js/cocomment.js">
</script></head>
	<body>
		<form name="Form1" method="post" action="http://blogs.pingpoet.com/overflow/archive/2004/07/27/673.aspx" id="Form1">
<div>
<input type="hidden" name="PostComment_ascx_ctl00_answer" id="PostComment_ascx_ctl00_answer" value="" />
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['Form1'];
if (!theForm) {
    theForm = document.Form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="../../../../../WebResourceca6f.js?d=vT1yz21OBJxBgCt3OM9vt4Y4jX88BPYiwkNtAfZuXqXphi6ccxTRjVFJnDscDk1pKotIsoE5gziAablpwXXNVTZ1pNg1&amp;t=635294807132453548" type="text/javascript"></script>

<div>

	<input type="hidden" name="__SCROLLPOSITIONX" id="__SCROLLPOSITIONX" value="0" />
	<input type="hidden" name="__SCROLLPOSITIONY" id="__SCROLLPOSITIONY" value="0" />
	<input type="hidden" name="__EVENTVALIDATION" id="__EVENTVALIDATION" value="/wEWOAL+raDpAgL+3ZGoBALZ0YTdDQL4oNG+CQLTntyYCQKKxo21BQLluYDqDgLUw76tDQKvt7HiBgKm1I3fAwKByICUDQL+3YXIBALypqMaApSI0ZgDAvLJwI4NAvLJ/OkFAvLJ6MQOAvLJhKAHAvLJsJsIAvLJ7KMNAvLJmJ8GArGq2egDArGq9cMEArGq4b4NArGqnZoGArGqifUOArGqpdAHArGq0YsIArGqzWYCsaq5jwYCsarV6g4CqpOn8wkCqpPTrgICqpPPiQsCqpP75AMCqpOXwAQCqpODuw0CqpO/lgYCqpOr8Q4CqpOHmgwCqpOz9QQCz4SF3gcCz4SxuQgCz4StlAECz4TZzwkCz4T1qgICz4ThhQsCz4Sd4QMCz4SJ3AQCz4Tl5AkCz4SRwAIC4O3iqA0C4O2ehAYC4O2K/w4C4O2m2gcC4O3StQisfw2EEKkdmgaIaSz3Q1UW0HyMuQ==" />
</div>
			<!--
Skin inspired from Blojsom 2.0 Theme
Name:     Asual
Author:   Rostislav Hristov
URL:      www.asual.com
Date:     1 October 2004

and later adapted for the SubText blogging platform by Simone Chiaretta www.piyodesign.it
-->




<div id="main">

	<div id="header">
		
<div id="name">
	<h1><a id="Header1_HeaderTitle" title="The Title Of This Blog." href="../../../../Default.html">overflow</a></h1>

	<h2>Too many thoughts to go away quietly</h2>
</div>
<div id="controls">
	
posts - 288, comments - 27, trackbacks - 325
	<div id="switcher">
			<script type="text/javascript">
				writeSwitcher();
			</script>
			<noscript>
				<p></p>
			</noscript>
	</div>
</div>
		
	</div>
	<div id="contentHeadLeft"><div id="contentHeadRight"><div id="contentHeadCenter"></div></div></div>
		<div id="contentBodyLeft">
		<div id="contentBodyRight">
			<div id="contentBodyCenter">
				<div id="content">
				
					<div id="entries">
					
					

<div class="previousNext">
	<a id="viewpost_ascx_PreviousNext_PrevLink" title="previous post" href="../24/670.html"><< Assemblies Get Friendly in Whidbey</a>
	<span id="viewpost_ascx_PreviousNext_LeftPipe" class="prevNextSeparator"> | </span>
	<a id="viewpost_ascx_PreviousNext_MainLink" href="../../../../Default.html">Home</a>
	<span id="viewpost_ascx_PreviousNext_RightPipe" class="prevNextSeparator"> | </span>
	<a id="viewpost_ascx_PreviousNext_NextLink" title="next post" href="678.html">Post Mortem Managed Debugging >></a>
</div>


<div class="entry">
	<h4><a id="viewpost_ascx_TitleUrl" title="Title of this entry." href="673.html">mbUnit Errors Caused by Performance Counters </a></h4>
	I suddenly started getting the below exception with mbUnit today and I after a couple hours found out how to get rid of it. It <a href="http://msdn.microsoft.com/netframework/programming/bcl/faq/SystemDiagnosticsProcessFAQ.aspx#Question1">appears</a> The problem is related to how the <a href="http://msdn.microsoft.com/library/en-us/cpref/html/frlrfSystemDiagnosticsProcessClassTopic.asp">Process class</a> works in v1.1 of .NET.  Apparently the Process class has a dependency on performance counters, and some how they mysteriously got disabled on my machine causing the process class to throw exceptions, and mbUnit to fail :S 
I resolved the problem by setting The "Disable Performance Counters" value to 0 under the HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\PerfProc\Performance key in the registry. The .reg file you can create and double click on to fix this problem looks like this:
<pre class="code">
Windows Registry Editor Version 5.00

[HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\PerfProc\Performance]
"Disable Performance Counters"=dword:00000000
</pre>


<p>Below is the full exception and some info I found in the debugger that actually led me to the solution. What a mess. I strongly encourage the <a href="http://blog.dotnetwiki.org/">mbUnit author</a> to recover from such an exception or at least point out some assistance this was a nasty problem to deal with.</p>

<pre>
Command: C:\Program Files\mbUnit\mbunit.cons
Command Args: C:\Projects\blah\Source\target\blah.blah.Data.dll
Working Directory:
Assemblies: blah.blah.Data
Coverage File: C:\Projects\blah\Source\target\ncoverreport.blah.data.xml
Coverage Log:

******************* Program Output *******************
MbUnit 2.19.1666.22428 Console Application
Author: Jonathan de Halleux
Get the latest at http://mbunit.tigris.org
------------------------------------------
    /report-folder:<string>             short form /rf  Target output folder for
 the reports
    /report-name-format:<string>        short form /rnf Format string for the re
port name. {0} is replaced by the date, {1} by the time.Default = mbunit-{0}{1}
    /report-type:{Xml|Html|Text|Dox}    short form /rt  Report types supported:
Xml, Html, Text
    /show-reports[+|-]                  short form /sr  Show generated reports i
n a window
    /filter-category:<string>           short form /fc  Name of the filtered cat
egory
    /filter-author:<string>             short form /fa  Name of the filtered aut
hor name
    /filter-type:<string>               short form /ft  Name of the filtered typ
e
    /filter-namespace:<string>          short form /fn  Name of the filtered nam
espace
    /verbose[+|-]                       short form /v   Return a lot of informat
ion or not...
    @<file>                             Read response file for more options
    <Files>
------------------------------------------
Parsed arguments:
-- Parsed Arguments
Files:
        C:\Projects\blah\Source\target\blah.blah.Data.dll
Report folder:
Report Name Format: mbunit-{0}{1}
Report types:
Show reports: False
Filter Category:
Filter Author:
Filter Namespace:
Filter Type:
Verbose: False

[loading] Assembly C:\Projects\blah\Source\target\blah.blah.Data.d
ll
System.Exception: Problem while loading assembly ---> MbUnit.Core.Exceptions.Rep
ortExceptionException: Error in the application.

Server stack trace:


Exception rethrown at [0]:
   at System.Runtime.Remoting.Proxies.RealProxy.HandleReturnMessage(IMessage req
Msg, IMessage retMsg)
   at System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(MessageData& msgDa
ta, Int32 type)
   at MbUnit.Core.Remoting.RemoteTestTree.Populate()
   at MbUnit.Core.Remoting.TestDomain.Load()
   --- End of inner exception stack trace ---
   at MbUnit.Core.Remoting.TestDomain.Load()
   at MbUnit.Core.Cons.MainClass.RunAssembly(ReportResult result, String aName)
[info] MbUnit execution finished in 0.160682533462706s.
***************** End Program Output *****************



IN DEBUGGER:
	A first chance exception of type 'System.InvalidOperationException' occurred in system.dll
	Additional information: Process performance counter is disabled, so the requested operation cannot be performed.
	CALLSTACK:
		>	system.dll!System.Diagnostics.NtProcessManager.GetProcessInfos(System.Diagnostics.PerformanceCounterLib library = {System.Diagnostics.PerformanceCounterLib}) + 0x1c9 bytes	
		system.dll!System.Diagnostics.NtProcessManager.GetProcessInfos(string machineName = ".", bool isRemoteMachine = false) + 0xb8 bytes	
		system.dll!System.Diagnostics.ProcessManager.GetProcessInfos(string machineName = ".") + 0x34 bytes	
		system.dll!System.Diagnostics.Process.EnsureState(System.Diagnostics.Process.State state = HaveNtProcessInfo) + 0x21f bytes	
		system.dll!System.Diagnostics.Process.get_WorkingSet() + 0x14 bytes	
		mbunit.core.dll!MbUnit.Core.Monitoring.MemoryStatus.MemoryStatus(System.Diagnostics.Process p = {System.Diagnostics.Process}) + 0x47 bytes	
		mbunit.core.dll!MbUnit.Core.Monitoring.MemoryMonitor.Start() + 0x2c bytes	
		mbunit.core.dll!MbUnit.Core.RunPipeStarter.Run() + 0x15f bytes	
		mbunit.core.dll!MbUnit.Core.Remoting.RemoteTestTree.RunPipes(MbUnit.Core.Remoting.TestTreeNode node = {MbUnit.Core.Remoting.TestTreeNode}) + 0x5c bytes	
		mbunit.core.dll!MbUnit.Core.Remoting.RemoteTestTree.RunPipes(MbUnit.Core.Remoting.TestTreeNode node = {MbUnit.Core.Remoting.TestTreeNode}) + 0x93 bytes	
		mbunit.core.dll!MbUnit.Core.Remoting.RemoteTestTree.RunPipes(MbUnit.Core.Remoting.UnitTreeNode node = {System.Runtime.Remoting.Proxies.__TransparentProxy}) + 0xda bytes	
		mscorlib.dll!System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage msg, int methodPtr, bool fExecuteInContext) + 0x30b bytes	
		mscorlib.dll!System.Runtime.Remoting.Messaging.StackBuilderSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage msg) + 0x9 bytes	
		mscorlib.dll!System.Runtime.Remoting.Messaging.ServerObjectTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) + 0x12c bytes	
		mscorlib.dll!System.Runtime.Remoting.Messaging.ServerContextTerminatorSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) + 0x1b3 bytes	
		mscorlib.dll!System.Runtime.Remoting.Channels.CrossContextChannel.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) + 0x209 bytes	
		mscorlib.dll!System.Runtime.Remoting.Channels.ChannelServices.SyncDispatchMessage(System.Runtime.Remoting.Messaging.IMessage msg) + 0xe6 bytes	
		mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.DoDispatch(byte[] reqStmBuff, System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage smuggledMcm, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage smuggledMrm) + 0x70 bytes	
		mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.DoTransitionDispatch(byte[] reqStmBuff, System.Runtime.Remoting.Messaging.SmuggledMethodCallMessage smuggledMcm, System.Runtime.Remoting.Messaging.SmuggledMethodReturnMessage smuggledMrm) + 0x6e bytes	
		mscorlib.dll!System.Runtime.Remoting.Channels.CrossAppDomainSink.SyncProcessMessage(System.Runtime.Remoting.Messaging.IMessage reqMsg) + 0x1e1 bytes	
		mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.CallProcessMessage(System.Runtime.Remoting.Messaging.IMessageSink ms, System.Runtime.Remoting.Messaging.IMessage reqMsg, System.Runtime.Remoting.Contexts.ArrayWithSize proxySinks, System.Threading.Thread currentThread, System.Runtime.Remoting.Contexts.Context currentContext, bool bSkippingContextChain) + 0x62 bytes	
		mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.InternalInvoke(System.Runtime.Remoting.Messaging.IMethodCallMessage reqMcmMsg, bool useDispatchMessage, int callType) + 0x28d bytes	
		mscorlib.dll!System.Runtime.Remoting.Proxies.RemotingProxy.Invoke(System.Runtime.Remoting.Messaging.IMessage reqMsg) + 0x113 bytes	
		mscorlib.dll!System.Runtime.Remoting.Proxies.RealProxy.PrivateInvoke(System.Runtime.Remoting.Proxies.MessageData msgData, int type) + 0x288 bytes	
		mbunit.core.dll!MbUnit.Core.Remoting.TestDomainCollection.RunPipes(MbUnit.Core.Remoting.UnitTreeNode node = {MbUnit.Core.Remoting.UnitTreeNode}) + 0xad bytes	
		mbunit.forms.dll!MbUnit.Forms.ReflectorTreeView.RunTests() + 0x106 bytes
</pre>


		<p class="post">
			posted @ Tuesday, July 27, 2004 1:44 PM
		</p>
</div>
	<a href="javascript:window.print();" class="printIcon"><span>Print</span></a>
	<link rel="pingback" href="../../../../Services/Pingback.html"></link>
	
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://blogs.pingpoet.com/overflow/archive/2004/07/27/673.aspx"
dc:identifier="http://blogs.pingpoet.com/overflow/archive/2004/07/27/673.aspx"
dc:title="mbUnit Errors Caused by Performance Counters "
trackback:ping="http://blogs.pingpoet.com/overflow/services/trackbacks/673.aspx" />
</rdf:RDF>
-->
<span id='apnlCommentsWrapper$RBS_Holder'><span id="apnlCommentsWrapper" AjaxCall="async">

<a name="feedback" title="feedback anchor"></a>
<div id="comments">
	<h3>Comments on this entry:</h3>
	<p></p>
	
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#96">#</a>&nbsp;<a name="96"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl00_NameLink" title="PingBack/TrackBack" target="_blank">Phil</a> at 8/10/2004 9:13 PM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Thanks for posting this info. I started having the same error after using <a title="mbunit.tigris.org" href="http://mbunit.tigris.org/" target="_blank">mbUnit</a> for a while.
					</p>
					<a id="Comments_ascx_CommentList_ctl00_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl00$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: Process Performance Counters problem " href="673.html#102">#</a>&nbsp;<a name="102"></a>Process Performance Counters problem 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl01_NameLink" title="PingBack/TrackBack" href="http://support.microsoft.com/default.aspx?kbid=300956" target="_blank">Prabhat</a> at 9/1/2004 2:37 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						The solution discovered for the 'Process Performance Counter Disabled' error was by using the files<br>Perfc009.dat and Perfh009.dat <br>as mentioned in the article<br><a target="_new" href="http://support.microsoft.com/default.aspx?kbid=300956">http://support.microsoft.com/default.aspx?kbid=300956</a><br><br>The registry modification did not do much good in our case.
					</p>
					<a id="Comments_ascx_CommentList_ctl01_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl01$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#105">#</a>&nbsp;<a name="105"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl02_NameLink" title="PingBack/TrackBack" href="../../../../index.html" target="_blank">overflow</a> at 9/3/2004 1:24 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Thanks for the comment. Hopefully this will help others.
					</p>
					<a id="Comments_ascx_CommentList_ctl02_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl02$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#109">#</a>&nbsp;<a name="109"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl03_NameLink" title="PingBack/TrackBack" target="_blank">Alice</a> at 9/24/2004 12:05 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Thanks for posting about this.<br>
					</p>
					<a id="Comments_ascx_CommentList_ctl03_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl03$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#110">#</a>&nbsp;<a name="110"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl04_NameLink" title="PingBack/TrackBack" href="../../../../index.html" target="_blank">overflow</a> at 9/25/2004 12:14 PM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						My pleasure. Thanks for reading.
					</p>
					<a id="Comments_ascx_CommentList_ctl04_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl04$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#136">#</a>&nbsp;<a name="136"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl05_NameLink" title="PingBack/TrackBack" href="http://weblogs.asp.net/nunitaddin" target="_blank">Jamie Cansdale</a> at 11/21/2004 11:12 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Have you any idea what caused the perf counters be be disabled?  I'm getting the same problem now.  Unfortunately the registry tweak you mentioned doesn't seem to fix it.  It is anoying that even the most basic process operations don't work in when it's in this state. :(<br><br>Thanks, Jamie.
					</p>
					<a id="Comments_ascx_CommentList_ctl05_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl05$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: Process Performance Disabled" href="673.html#137">#</a>&nbsp;<a name="137"></a>Process Performance Disabled
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl06_NameLink" title="PingBack/TrackBack" href="http://weblogs.asp.net/nunitaddin/archive/0001/01/01/267559.aspx" target="_blank">Test Driven .NET</a> at 11/21/2004 2:26 PM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						
					</p>
					<a id="Comments_ascx_CommentList_ctl06_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl06$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#138">#</a>&nbsp;<a name="138"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl07_NameLink" title="PingBack/TrackBack" href="../../../../index.html" target="_blank">Scott Willeke</a> at 11/22/2004 1:04 PM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Unfortunately this is an elusive issue in the OS/perf counter implementation. The most information I've found related to the problem is at the link below:<br><a target="_new" href="http://msdn.microsoft.com/netframework/programming/bcl/faq/SystemDiagnosticsProcessFAQ.aspx#Question1">http://msdn.microsoft.com/netframework/programming/bcl/faq/SystemDiagnosticsProcessFAQ.aspx#Question1</a><br><br>Regard, scott
					</p>
					<a id="Comments_ascx_CommentList_ctl07_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl07$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#2152">#</a>&nbsp;<a name="2152"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl08_NameLink" title="PingBack/TrackBack" href="http://blog.dotnetwiki.org/" target="_blank">Jonathan de Halleux</a> at 7/28/2004 10:03 PM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						I'm keeping a note on this...
					</p>
					<a id="Comments_ascx_CommentList_ctl08_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl08$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#2192">#</a>&nbsp;<a name="2192"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl09_NameLink" title="PingBack/TrackBack" href="http://blog.dotnetwiki.org/" target="_blank">Jonathan de Halleux</a> at 9/16/2004 5:15 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						Hi,<br><br>I have totally got rid of performance counters in the next version of <a title="mbunit.tigris.org" href="http://mbunit.tigris.org/" target="_blank">mbUnit</a> (2.21.1.0). Timer is now using Ticks and memory is monitored using the workingset.<br><br>Thanks for posting about this.
					</p>
					<a id="Comments_ascx_CommentList_ctl09_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl09$EditLink','')"></a>
					</div>
			</div>
		
			<div class="comment">
					<h4>
						<a title="permalink: re: mbUnit Errors Caused by Performance Counters " href="673.html#2246">#</a>&nbsp;<a name="2246"></a>re: mbUnit Errors Caused by Performance Counters 
					</h4>
					<div class="info">Left by <a id="Comments_ascx_CommentList_ctl10_NameLink" title="PingBack/TrackBack" target="_blank">Ucha Abashidze</a> at 7/12/2005 4:48 AM</div>
					<div class="gravatar"></div>
					<div class="post">
					<p>
						have same problem with EGirl 1.5:<br><br>System.InvalidOperationException: Process performance counter is disabled, so the requested operation cannot be performed.<br>   at System.Diagnostics.NtProcessManager.GetProcessInfos(PerformanceCounterLib library)<br>   at System.Diagnostics.NtProcessManager.GetProcessInfos(String machineName, Boolean isRemoteMachine)<br><br>but your registry solution does not help (working under XP SP2)
					</p>
					<a id="Comments_ascx_CommentList_ctl10_EditLink" class="editlink" href="javascript:__doPostBack('Comments_ascx$CommentList$ctl10$EditLink','')"></a>
					</div>
			</div>
		
</div>

<div class="commentsClosedMessage"><span style="font-style: italic;">Comments have been closed on this topic.</span></div></span></span>
				
					</div>
					<div id="column">
						
						

<div id="calendar">
<table id="cal_entryCal" title="5/6/2018" cellspacing="0" cellpadding="0" title="Calendar" border="0" style="border-width:1px;border-style:solid;border-collapse:collapse;">
	<tr><td colspan="7" style="background-color:Silver;"><table class="title" cellspacing="0" border="0" style="width:100%;border-collapse:collapse;">
		<tr><td class="next" style="width:15%;"><a href="javascript:__doPostBack('cal$entryCal','V6665')" style="color:Black" title="Go to the previous month"><a href="../../../2018/04.html">&laquo;</a></a></td><td align="center" style="width:70%;">May</td><td class="next" align="right" style="width:15%;"><a href="javascript:__doPostBack('cal$entryCal','V6726')" style="color:Black" title="Go to the next month"><a href="../../../2018/06.html">&raquo;</a></a></td></tr>
	</table></td></tr><tr><th class="day-header" align="center" abbr="Sunday" scope="col">Sun</th><th class="day-header" align="center" abbr="Monday" scope="col">Mon</th><th class="day-header" align="center" abbr="Tuesday" scope="col">Tue</th><th class="day-header" align="center" abbr="Wednesday" scope="col">Wed</th><th class="day-header" align="center" abbr="Thursday" scope="col">Thu</th><th class="day-header" align="center" abbr="Friday" scope="col">Fri</th><th class="day-header" align="center" abbr="Saturday" scope="col">Sat</th></tr><tr><td class="other-month" align="center" style="width:14%;">29</td><td class="other-month" align="center" style="width:14%;">30</td><td class="day" align="center" style="width:14%;">1</td><td class="day" align="center" style="width:14%;">2</td><td class="day" align="center" style="width:14%;">3</td><td class="day" align="center" style="width:14%;">4</td><td class="day" align="center" style="width:14%;">5</td></tr><tr><td class="today" align="center" style="width:14%;">6</td><td class="day" align="center" style="width:14%;">7</td><td class="day" align="center" style="width:14%;">8</td><td class="day" align="center" style="width:14%;">9</td><td class="day" align="center" style="width:14%;">10</td><td class="day" align="center" style="width:14%;">11</td><td class="day" align="center" style="width:14%;">12</td></tr><tr><td class="day" align="center" style="width:14%;">13</td><td class="day" align="center" style="width:14%;">14</td><td class="day" align="center" style="width:14%;">15</td><td class="day" align="center" style="width:14%;">16</td><td class="day" align="center" style="width:14%;">17</td><td class="day" align="center" style="width:14%;">18</td><td class="day" align="center" style="width:14%;">19</td></tr><tr><td class="day" align="center" style="width:14%;">20</td><td class="day" align="center" style="width:14%;">21</td><td class="day" align="center" style="width:14%;">22</td><td class="day" align="center" style="width:14%;">23</td><td class="day" align="center" style="width:14%;">24</td><td class="day" align="center" style="width:14%;">25</td><td class="day" align="center" style="width:14%;">26</td></tr><tr><td class="day" align="center" style="width:14%;">27</td><td class="day" align="center" style="width:14%;">28</td><td class="day" align="center" style="width:14%;">29</td><td class="day" align="center" style="width:14%;">30</td><td class="day" align="center" style="width:14%;">31</td><td class="other-month" align="center" style="width:14%;">1</td><td class="other-month" align="center" style="width:14%;">2</td></tr><tr><td class="other-month" align="center" style="width:14%;">3</td><td class="other-month" align="center" style="width:14%;">4</td><td class="other-month" align="center" style="width:14%;">5</td><td class="other-month" align="center" style="width:14%;">6</td><td class="other-month" align="center" style="width:14%;">7</td><td class="other-month" align="center" style="width:14%;">8</td><td class="other-month" align="center" style="width:14%;">9</td></tr>
</table>
</div>
						
<div id="links">
<p><!-- begin eff badge -->
<div align="center">
<a href="http://www.eff.org/bloggers/join/">
<img src="http://www.eff.org/bloggers/badges/blog_150x40.gif" 
alt="Support Bloggers' Rights!"
width="150" height="40" border="0" align="middle" /><br />
<small>Support Bloggers' Rights!</small></a>
</div>
<!-- end eff badge -->

<!-- start zFacts Debt Clock -->
<table id="zDebtBox" style="border-color:rgb(40,80,144);" border=0>
<tr><td style="background-color:rgb(241,247,251)"><a href="http://zfacts.com/p/461.html" id="zF05" style="color:rgb(40,80,144);font-size:13px;">National Debt Clock</a></td></tr>
<tr><td style="background-color:#FFFFFF;">
<script type="text/javascript">
var zFontColor = "#CF1919"; // Debt Value Color
var zFontSize = 14;// Debt Font Size
</script>
<script type="text/javascript" src="http://www.zfacts.com/giz/G05/debt.js"></script></td></tr>
</table>
<!-- end gizmo -->

<!-- google analytics -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
_uacct = "UA-149900-1";
urchinTracker();
</script></p>
</div>
						
<div id="links">
<div>
<h5>About</h5>
<ul>
<li><a id="links_ContactLink" accesskey="9" class="rounded" title="Contact form." href="../../../../contact.html">Contact</a></li>
<li><a id="links_Admin" class="rounded" title="Login Form." href="../../../../login.html">Login</a></li>
</ul>
</div>
</div>

<!-- Not Visible -->





						
<div id="links">

		<div>
	
			<h5>Archives</h5>
			
						<ul>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl01_Link" class="rounded" title="" href="../../../2007/05.html">May, 2007 (1)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl02_Link" class="rounded" title="" href="../../../2007/03.html">March, 2007 (1)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl03_Link" class="rounded" title="" href="../../../2006/10.html">October, 2006 (2)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl04_Link" class="rounded" title="" href="../../../2006/09.html">September, 2006 (2)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl05_Link" class="rounded" title="" href="../../../2006/08.html">August, 2006 (4)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl06_Link" class="rounded" title="" href="../../../2006/05.html">May, 2006 (2)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl07_Link" class="rounded" title="" href="../../../2006/04.html">April, 2006 (1)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl08_Link" class="rounded" title="" href="../../../2006/03.html">March, 2006 (3)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl09_Link" class="rounded" title="" href="../../../2006/02.html">February, 2006 (7)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl10_Link" class="rounded" title="" href="../../../2006/01.html">January, 2006 (3)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl11_Link" class="rounded" title="" href="../../../2005/12.html">December, 2005 (3)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl12_Link" class="rounded" title="" href="../../../2005/11.html">November, 2005 (4)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl13_Link" class="rounded" title="" href="../../../2005/10.html">October, 2005 (2)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl14_Link" class="rounded" title="" href="../../../2005/09.html">September, 2005 (6)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl15_Link" class="rounded" title="" href="../../../2005/08.html">August, 2005 (1)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl16_Link" class="rounded" title="" href="../../../2005/07.html">July, 2005 (4)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl17_Link" class="rounded" title="" href="../../../2005/06.html">June, 2005 (3)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl18_Link" class="rounded" title="" href="../../../2005/05.html">May, 2005 (5)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl19_Link" class="rounded" title="" href="../../../2005/04.html">April, 2005 (3)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl20_Link" class="rounded" title="" href="../../../2005/03.html">March, 2005 (5)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl21_Link" class="rounded" title="" href="../../../2005/02.html">February, 2005 (5)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl22_Link" class="rounded" title="" href="../../../2005/01.html">January, 2005 (10)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl23_Link" class="rounded" title="" href="../../12.html">December, 2004 (4)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl24_Link" class="rounded" title="" href="../../11.html">November, 2004 (8)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl25_Link" class="rounded" title="" href="../../10.html">October, 2004 (12)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl26_Link" class="rounded" title="" href="../../09.html">September, 2004 (17)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl27_Link" class="rounded" title="" href="../../08.html">August, 2004 (14)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl28_Link" class="rounded" title="" href="../../07.html">July, 2004 (26)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl29_Link" class="rounded" title="" href="../../06.html">June, 2004 (11)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl30_Link" class="rounded" title="" href="../../05.html">May, 2004 (6)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl31_Link" class="rounded" title="" href="../../04.html">April, 2004 (6)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl32_Link" class="rounded" title="" href="../../03.html">March, 2004 (14)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl33_Link" class="rounded" title="" href="../../02.html">February, 2004 (36)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl34_Link" class="rounded" title="" href="../../01.html">January, 2004 (41)</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl01_LinkList_ctl35_Link" class="rounded" title="" href="../../../2003/12.html">December, 2003 (16)</a></li>
					
						</ul>
					
	
			<h5>Post Categories</h5>
			
						<ul>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl01_Link" class="rounded" title="" href="../../../../category/14.html">Books</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl02_Link" class="rounded" title="" href="../../../../category/11.html">Cool Software</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl03_Link" class="rounded" title="" href="../../../../category/8.html">Misc</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl04_Link" class="rounded" title="" href="../../../../category/29.html">Open Source</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl05_Link" class="rounded" title="" href="../../../../category/7.html">Political</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl06_Link" class="rounded" title="" href="../../../../category/6.html">Programming</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl07_Link" class="rounded" title="" href="../../../../category/5.html">Programming .NET</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl08_Link" class="rounded" title="" href="../../../../category/48.html">Quotations</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl02_LinkList_ctl09_Link" class="rounded" title="" href="../../../../category/10.html">Technology</a></li>
					
						</ul>
					
	
			<h5>other stuff</h5>
			
						<ul>
					
		    			<li><a id="column_Categories_CatList_ctl03_LinkList_ctl01_Link" class="rounded" title="" href="http://www.amazon.com/gp/registry/registry.html/102-4741750-5566502?%5Fencoding=UTF8&amp;id=2Z9VWK58AXEJL">amazon wish list</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl03_LinkList_ctl02_Link" class="rounded" title="" href="http://scott.willeke.com/">scott.willeke.com</a></li>
					
		    			<li><a id="column_Categories_CatList_ctl03_LinkList_ctl03_Link" class="rounded" title="" rel="external" href="http://www.macworthington.com/">The Art of Mac Worthington</a></li>
					
						</ul>
					
	
			<h5>Programming</h5>
			
						<ul>
					
		    			<li><a id="column_Categories_CatList_ctl04_LinkList_ctl01_Link" class="rounded" title="" rel="external" href="http://www.datadynamics.com/">Data Dynamics</a></li>
					
						</ul>
					
	
		</div>
	

<div>
	<h5>Syndication:</h5>
	<p><a id="column_links_Syndication" class="rounded" title="Subscribe to this feed." href="../../../../Rss.aspx">RSS</a> <a id="column_links_AtomLink" class="rounded" title="Subscribe to this feed." href="../../../../Atom.aspx">ATOM</a></p>
</div>

<!-- Not Visible -->







</div>
						<div id="subtext">
							<p><a id="Hyperlink2" title="Click here to visit the homepage of the SubText project" href="http://sourceforge.net/projects/subtext/"><img title="Click here to visit the homepage of the SubText project" src="../../../../../images/PoweredBySubtext85x33.png" style="border-width:0px;" /></a></p>
						</div>
					</div>
				</div>
				<div class="clear">&nbsp;</div>
			</div>
		</div>
	</div>
	<div id="contentFootLeft"><div id="contentFootRight"><div id="contentFootCenter"></div></div></div>

	<div id="Footer">
		
<div id="footer">
	<p id="copyright">&copy; Scott Willeke</p>
	<p id="info">Theme by <a href="http://www.piyodesign.it/" title="Click here to visit the website of PiyoDesign">PiyoDesign</a>. Valid <a href="http://validator.w3.org/check/referer" title="Click here to validate the XHTML code of this page at W3.org">XHTML</a> &amp; <a href="http://jigsaw.w3.org/css-validator/check/referer" title="Click here to validate the CSS code of this page at W3.org">CSS</a>.</p>
</div>
	</div>
	
</div>

		

<script type="text/javascript">
//<![CDATA[

theForm.oldSubmit = theForm.submit;
theForm.submit = WebForm_SaveScrollPositionSubmit;

theForm.oldOnSubmit = theForm.onsubmit;
theForm.onsubmit = WebForm_SaveScrollPositionOnSubmit;
//]]>
</script>
</form>
	</body>

<!-- Mirrored from blogs.pingpoet.com/overflow/archive/2004/07/27/673.aspx by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 06 May 2018 21:57:02 GMT -->
</html>
